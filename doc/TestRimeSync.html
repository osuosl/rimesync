<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class TestRimeSync - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Test::Unit::TestCase
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-setup">#setup</a>
    
    <li ><a href="#method-i-test_auth">#test_auth</a>
    
    <li ><a href="#method-i-test_authentication">#test_authentication</a>
    
    <li ><a href="#method-i-test_authentication_no_arguments">#test_authentication_no_arguments</a>
    
    <li ><a href="#method-i-test_authentication_no_auth_type">#test_authentication_no_auth_type</a>
    
    <li ><a href="#method-i-test_authentication_no_password">#test_authentication_no_password</a>
    
    <li ><a href="#method-i-test_authentication_no_password_or_auth_type">#test_authentication_no_password_or_auth_type</a>
    
    <li ><a href="#method-i-test_authentication_no_token_in_response">#test_authentication_no_token_in_response</a>
    
    <li ><a href="#method-i-test_authentication_no_username">#test_authentication_no_username</a>
    
    <li ><a href="#method-i-test_authentication_no_username_or_auth_type">#test_authentication_no_username_or_auth_type</a>
    
    <li ><a href="#method-i-test_authentication_no_username_or_password">#test_authentication_no_username_or_password</a>
    
    <li ><a href="#method-i-test_authentication_return_error">#test_authentication_return_error</a>
    
    <li ><a href="#method-i-test_authentication_return_success">#test_authentication_return_success</a>
    
    <li ><a href="#method-i-test_baseurl_with_trailing_slash">#test_baseurl_with_trailing_slash</a>
    
    <li ><a href="#method-i-test_baseurl_without_trailing_slash">#test_baseurl_without_trailing_slash</a>
    
    <li ><a href="#method-i-test_create_or_update_create_activity_each_required_missing">#test_create_or_update_create_activity_each_required_missing</a>
    
    <li ><a href="#method-i-test_create_or_update_create_activity_invalid">#test_create_or_update_create_activity_invalid</a>
    
    <li ><a href="#method-i-test_create_or_update_create_activity_no_auth">#test_create_or_update_create_activity_no_auth</a>
    
    <li ><a href="#method-i-test_create_or_update_create_activity_required_missing">#test_create_or_update_create_activity_required_missing</a>
    
    <li ><a href="#method-i-test_create_or_update_create_activity_type_error">#test_create_or_update_create_activity_type_error</a>
    
    <li ><a href="#method-i-test_create_or_update_create_activity_valid">#test_create_or_update_create_activity_valid</a>
    
    <li ><a href="#method-i-test_create_or_update_create_project_each_required_missing">#test_create_or_update_create_project_each_required_missing</a>
    
    <li ><a href="#method-i-test_create_or_update_create_project_invalid">#test_create_or_update_create_project_invalid</a>
    
    <li ><a href="#method-i-test_create_or_update_create_project_no_auth">#test_create_or_update_create_project_no_auth</a>
    
    <li ><a href="#method-i-test_create_or_update_create_project_required_missing">#test_create_or_update_create_project_required_missing</a>
    
    <li ><a href="#method-i-test_create_or_update_create_project_type_error">#test_create_or_update_create_project_type_error</a>
    
    <li ><a href="#method-i-test_create_or_update_create_project_valid">#test_create_or_update_create_project_valid</a>
    
    <li ><a href="#method-i-test_create_or_update_create_time_each_required_missing">#test_create_or_update_create_time_each_required_missing</a>
    
    <li ><a href="#method-i-test_create_or_update_create_time_invalid">#test_create_or_update_create_time_invalid</a>
    
    <li ><a href="#method-i-test_create_or_update_create_time_no_auth">#test_create_or_update_create_time_no_auth</a>
    
    <li ><a href="#method-i-test_create_or_update_create_time_two_required_missing">#test_create_or_update_create_time_two_required_missing</a>
    
    <li ><a href="#method-i-test_create_or_update_create_time_type_error">#test_create_or_update_create_time_type_error</a>
    
    <li ><a href="#method-i-test_create_or_update_create_time_valid">#test_create_or_update_create_time_valid</a>
    
    <li ><a href="#method-i-test_create_or_update_create_user_each_required_missing">#test_create_or_update_create_user_each_required_missing</a>
    
    <li ><a href="#method-i-test_create_or_update_create_user_invalid">#test_create_or_update_create_user_invalid</a>
    
    <li ><a href="#method-i-test_create_or_update_create_user_two_required_missing">#test_create_or_update_create_user_two_required_missing</a>
    
    <li ><a href="#method-i-test_create_or_update_create_user_type_error">#test_create_or_update_create_user_type_error</a>
    
    <li ><a href="#method-i-test_create_or_update_create_user_valid">#test_create_or_update_create_user_valid</a>
    
    <li ><a href="#method-i-test_create_or_update_update_activity_no_auth">#test_create_or_update_update_activity_no_auth</a>
    
    <li ><a href="#method-i-test_create_or_update_update_activity_valid">#test_create_or_update_update_activity_valid</a>
    
    <li ><a href="#method-i-test_create_or_update_update_activity_valid_less_fields">#test_create_or_update_update_activity_valid_less_fields</a>
    
    <li ><a href="#method-i-test_create_or_update_update_project_no_auth">#test_create_or_update_update_project_no_auth</a>
    
    <li ><a href="#method-i-test_create_or_update_update_project_valid">#test_create_or_update_update_project_valid</a>
    
    <li ><a href="#method-i-test_create_or_update_update_project_valid_less_fields">#test_create_or_update_update_project_valid_less_fields</a>
    
    <li ><a href="#method-i-test_create_or_update_update_time_no_auth">#test_create_or_update_update_time_no_auth</a>
    
    <li ><a href="#method-i-test_create_or_update_update_time_valid">#test_create_or_update_update_time_valid</a>
    
    <li ><a href="#method-i-test_create_or_update_update_time_valid_less_fields">#test_create_or_update_update_time_valid_less_fields</a>
    
    <li ><a href="#method-i-test_create_or_update_update_user_valid">#test_create_or_update_update_user_valid</a>
    
    <li ><a href="#method-i-test_create_or_update_update_user_valid_less_fields">#test_create_or_update_update_user_valid_less_fields</a>
    
    <li ><a href="#method-i-test_create_time_with_invalid_string_duration">#test_create_time_with_invalid_string_duration</a>
    
    <li ><a href="#method-i-test_create_time_with_junk_string_duration">#test_create_time_with_junk_string_duration</a>
    
    <li ><a href="#method-i-test_create_time_with_negative_duration">#test_create_time_with_negative_duration</a>
    
    <li ><a href="#method-i-test_create_user_invalid_admin">#test_create_user_invalid_admin</a>
    
    <li ><a href="#method-i-test_delete_activity_no_auth">#test_delete_activity_no_auth</a>
    
    <li ><a href="#method-i-test_delete_activity_no_slug">#test_delete_activity_no_slug</a>
    
    <li ><a href="#method-i-test_delete_object_activity">#test_delete_object_activity</a>
    
    <li ><a href="#method-i-test_delete_object_project">#test_delete_object_project</a>
    
    <li ><a href="#method-i-test_delete_object_time">#test_delete_object_time</a>
    
    <li ><a href="#method-i-test_delete_object_user">#test_delete_object_user</a>
    
    <li ><a href="#method-i-test_delete_project_no_auth">#test_delete_project_no_auth</a>
    
    <li ><a href="#method-i-test_delete_project_no_slug">#test_delete_project_no_slug</a>
    
    <li ><a href="#method-i-test_delete_time_no_auth">#test_delete_time_no_auth</a>
    
    <li ><a href="#method-i-test_delete_time_no_uuid">#test_delete_time_no_uuid</a>
    
    <li ><a href="#method-i-test_delete_user_no_auth">#test_delete_user_no_auth</a>
    
    <li ><a href="#method-i-test_delete_user_no_username">#test_delete_user_no_username</a>
    
    <li ><a href="#method-i-test_duration_invalid">#test_duration_invalid</a>
    
    <li ><a href="#method-i-test_duration_to_seconds">#test_duration_to_seconds</a>
    
    <li ><a href="#method-i-test_duration_to_seconds_with_invalid_str">#test_duration_to_seconds_with_invalid_str</a>
    
    <li ><a href="#method-i-test_get_activities">#test_get_activities</a>
    
    <li ><a href="#method-i-test_get_activities_include_deleted">#test_get_activities_include_deleted</a>
    
    <li ><a href="#method-i-test_get_activities_include_deleted_include_revisions">#test_get_activities_include_deleted_include_revisions</a>
    
    <li ><a href="#method-i-test_get_activities_include_deleted_with_slug">#test_get_activities_include_deleted_with_slug</a>
    
    <li ><a href="#method-i-test_get_activities_include_revisions">#test_get_activities_include_revisions</a>
    
    <li ><a href="#method-i-test_get_activities_no_auth">#test_get_activities_no_auth</a>
    
    <li ><a href="#method-i-test_get_activities_slug">#test_get_activities_slug</a>
    
    <li ><a href="#method-i-test_get_activities_slug_include_revisions">#test_get_activities_slug_include_revisions</a>
    
    <li ><a href="#method-i-test_get_all_times">#test_get_all_times</a>
    
    <li ><a href="#method-i-test_get_projects">#test_get_projects</a>
    
    <li ><a href="#method-i-test_get_projects_include_deleted">#test_get_projects_include_deleted</a>
    
    <li ><a href="#method-i-test_get_projects_include_deleted_include_revisions">#test_get_projects_include_deleted_include_revisions</a>
    
    <li ><a href="#method-i-test_get_projects_include_deleted_with_slug">#test_get_projects_include_deleted_with_slug</a>
    
    <li ><a href="#method-i-test_get_projects_include_revisions">#test_get_projects_include_revisions</a>
    
    <li ><a href="#method-i-test_get_projects_no_auth">#test_get_projects_no_auth</a>
    
    <li ><a href="#method-i-test_get_projects_slug">#test_get_projects_slug</a>
    
    <li ><a href="#method-i-test_get_projects_slug_include_revisions">#test_get_projects_slug_include_revisions</a>
    
    <li ><a href="#method-i-test_get_time_for_activity">#test_get_time_for_activity</a>
    
    <li ><a href="#method-i-test_get_time_for_activity_x3">#test_get_time_for_activity_x3</a>
    
    <li ><a href="#method-i-test_get_time_for_end_date">#test_get_time_for_end_date</a>
    
    <li ><a href="#method-i-test_get_time_for_include_deleted">#test_get_time_for_include_deleted</a>
    
    <li ><a href="#method-i-test_get_time_for_include_deleted_false">#test_get_time_for_include_deleted_false</a>
    
    <li ><a href="#method-i-test_get_time_for_include_revisions">#test_get_time_for_include_revisions</a>
    
    <li ><a href="#method-i-test_get_time_for_include_revisions_false">#test_get_time_for_include_revisions_false</a>
    
    <li ><a href="#method-i-test_get_time_for_proj">#test_get_time_for_proj</a>
    
    <li ><a href="#method-i-test_get_time_for_proj_and_activity">#test_get_time_for_proj_and_activity</a>
    
    <li ><a href="#method-i-test_get_time_for_start_date">#test_get_time_for_start_date</a>
    
    <li ><a href="#method-i-test_get_time_for_user">#test_get_time_for_user</a>
    
    <li ><a href="#method-i-test_get_time_with_uuid">#test_get_time_with_uuid</a>
    
    <li ><a href="#method-i-test_get_time_with_uuid_and_activity">#test_get_time_with_uuid_and_activity</a>
    
    <li ><a href="#method-i-test_get_time_with_uuid_and_include_deleted">#test_get_time_with_uuid_and_include_deleted</a>
    
    <li ><a href="#method-i-test_get_time_with_uuid_and_include_revisions">#test_get_time_with_uuid_and_include_revisions</a>
    
    <li ><a href="#method-i-test_get_time_with_uuid_include_deleted_and_revisions">#test_get_time_with_uuid_include_deleted_and_revisions</a>
    
    <li ><a href="#method-i-test_get_times_bad_query">#test_get_times_bad_query</a>
    
    <li ><a href="#method-i-test_get_times_no_auth">#test_get_times_no_auth</a>
    
    <li ><a href="#method-i-test_get_users">#test_get_users</a>
    
    <li ><a href="#method-i-test_get_users_no_auth">#test_get_users_no_auth</a>
    
    <li ><a href="#method-i-test_get_users_username">#test_get_users_username</a>
    
    <li ><a href="#method-i-test_handle_other_connection_response">#test_handle_other_connection_response</a>
    
    <li ><a href="#method-i-test_hash_user_password">#test_hash_user_password</a>
    
    <li ><a href="#method-i-test_instantiate_with_token">#test_instantiate_with_token</a>
    
    <li ><a href="#method-i-test_instantiate_without_token">#test_instantiate_without_token</a>
    
    <li ><a href="#method-i-test_local_auth_error_no_token">#test_local_auth_error_no_token</a>
    
    <li ><a href="#method-i-test_local_auth_error_with_token">#test_local_auth_error_with_token</a>
    
    <li ><a href="#method-i-test_project_users_error_response">#test_project_users_error_response</a>
    
    <li ><a href="#method-i-test_project_users_no_project_parameter">#test_project_users_no_project_parameter</a>
    
    <li ><a href="#method-i-test_project_users_valid">#test_project_users_valid</a>
    
    <li ><a href="#method-i-test_response_to_ruby_empty_response">#test_response_to_ruby_empty_response</a>
    
    <li ><a href="#method-i-test_response_to_ruby_list_of_object">#test_response_to_ruby_list_of_object</a>
    
    <li ><a href="#method-i-test_response_to_ruby_single_object">#test_response_to_ruby_single_object</a>
    
    <li ><a href="#method-i-test_token_expiration_invalid">#test_token_expiration_invalid</a>
    
    <li ><a href="#method-i-test_token_expiration_no_auth">#test_token_expiration_no_auth</a>
    
    <li ><a href="#method-i-test_token_expiration_valid">#test_token_expiration_valid</a>
    
    <li ><a href="#method-i-test_update_time_with_invalid_string_duration">#test_update_time_with_invalid_string_duration</a>
    
    <li ><a href="#method-i-test_update_time_with_junk_string_duration">#test_update_time_with_junk_string_duration</a>
    
    <li ><a href="#method-i-test_update_time_with_negative_duration">#test_update_time_with_negative_duration</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-TestRimeSync">
  <h1 id="class-TestRimeSync" class="class">
    class TestRimeSync
  </h1>

  <section class="description">
    
<p>rubocop:disable ClassLength</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-setup" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">setup</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="setup-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 11</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">setup</span>
  <span class="ruby-identifier">baseurl</span> = <span class="ruby-string">&#39;http://ts.example.com/v0&#39;</span>
  <span class="ruby-ivar">@ts</span> = <span class="ruby-constant">TimeSync</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">baseurl</span>)
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@user</span>, <span class="ruby-string">&#39;example-user&#39;</span>)
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@password</span>, <span class="ruby-string">&#39;password&#39;</span>)
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@auth_type</span>, <span class="ruby-string">&#39;password&#39;</span>)
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-string">&#39;TESTTOKEN&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-auth">TimeSync#auth</a> function</p>
          
          

          
          <div class="method-source-code" id="test_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 738</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_auth</span>
  <span class="ruby-comment"># Create auth block to test auth</span>
  <span class="ruby-identifier">auth</span> = <span class="ruby-constant">Hash</span>[
        <span class="ruby-string">&#39;type&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;password&#39;</span>,
        <span class="ruby-string">&#39;username&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
        <span class="ruby-string">&#39;password&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;password&#39;</span>
        ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">auth</span>, <span class="ruby-identifier">auth</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method for url and data construction</p>
          
          

          
          <div class="method-source-code" id="test_authentication-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1503</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication</span>
  <span class="ruby-identifier">auth</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[
        <span class="ruby-string">&#39;type&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;password&#39;</span>,
        <span class="ruby-string">&#39;username&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
        <span class="ruby-string">&#39;password&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;password&#39;</span>
    ]
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/login&#39;</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">auth</span>)

  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">username</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;example-user&#39;</span>, <span class="ruby-identifier">password</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>, <span class="ruby-identifier">auth_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_no_arguments" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_no_arguments</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with no arguments in call</p>
          
          

          
          <div class="method-source-code" id="test_authentication_no_arguments-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1588</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_no_arguments</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>,
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                <span class="ruby-string">&#39;Missing username, password, auth_type; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_no_auth_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_no_auth_type</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with no auth_type in call</p>
          
          

          
          <div class="method-source-code" id="test_authentication_no_auth_type-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1560</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_no_auth_type</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">username</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;username&#39;</span>, <span class="ruby-identifier">password</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                <span class="ruby-string">&#39;Missing auth_type; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_no_password" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_no_password</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with no password in call</p>
          
          

          
          <div class="method-source-code" id="test_authentication_no_password-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1553</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_no_password</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">username</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;username&#39;</span>, <span class="ruby-identifier">auth_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                <span class="ruby-string">&#39;Missing password; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_no_password_or_auth_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_no_password_or_auth_type</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with no username or auth_type in call</p>
          
          

          
          <div class="method-source-code" id="test_authentication_no_password_or_auth_type-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1581</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_no_password_or_auth_type</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">username</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;username&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                <span class="ruby-string">&#39;Missing password, auth_type; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_no_token_in_response" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_no_token_in_response</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with no token in response</p>
          
          

          
          <div class="method-source-code" id="test_authentication_no_token_in_response-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1595</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_no_token_in_response</span>
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-regexp">/.*/</span>).<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">502</span>)

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">username</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;username&#39;</span>, <span class="ruby-identifier">password</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>,
                               <span class="ruby-identifier">auth_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;connection to TimeSync failed at baseurl http://ts.example.com/v0 - response status was 502&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_no_username" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_no_username</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with no username in call</p>
          
          

          
          <div class="method-source-code" id="test_authentication_no_username-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1546</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_no_username</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">password</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>, <span class="ruby-identifier">auth_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                <span class="ruby-string">&#39;Missing username; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_no_username_or_auth_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_no_username_or_auth_type</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with no username or auth_type in call</p>
          
          

          
          <div class="method-source-code" id="test_authentication_no_username_or_auth_type-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1574</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_no_username_or_auth_type</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">password</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                <span class="ruby-string">&#39;Missing username, auth_type; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_no_username_or_password" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_no_username_or_password</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with no username or password in call</p>
          
          

          
          <div class="method-source-code" id="test_authentication_no_username_or_password-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1567</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_no_username_or_password</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">auth_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                <span class="ruby-string">&#39;Missing username, password; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_return_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_return_error</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with an error return</p>
          
          

          
          <div class="method-source-code" id="test_authentication_return_error-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1531</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_return_error</span>
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-regexp">/.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;status&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">401</span>,
                                 <span class="ruby-string">&#39;error&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Authentication failure&#39;</span>,
                                 <span class="ruby-string">&#39;text&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Invalid username or password&#39;</span>]))

  <span class="ruby-identifier">auth_block</span> = <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">username</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;example-user&#39;</span>, <span class="ruby-identifier">password</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>, <span class="ruby-identifier">auth_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>)

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">auth_block</span>,
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;status&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">401</span>,
                    <span class="ruby-string">&#39;error&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Authentication failure&#39;</span>,
                    <span class="ruby-string">&#39;text&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Invalid username or password&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_authentication_return_success" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_authentication_return_success</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests authenticate method with a token return</p>
          
          

          
          <div class="method-source-code" id="test_authentication_return_success-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1520</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_authentication_return_success</span>
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-regexp">/.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;token&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sometoken&#39;</span>]))

  <span class="ruby-identifier">auth_block</span> = <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">authenticate</span>(<span class="ruby-identifier">username</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;example-user&#39;</span>, <span class="ruby-identifier">password</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>, <span class="ruby-identifier">auth_type</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;password&#39;</span>)

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">auth_block</span>[<span class="ruby-string">&#39;token&#39;</span>], <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>), <span class="ruby-string">&#39;sometoken&#39;</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">auth_block</span>, <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;token&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sometoken&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_baseurl_with_trailing_slash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_baseurl_with_trailing_slash</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that the trailing slash in the baseurl is removed</p>
          
          

          
          <div class="method-source-code" id="test_baseurl_with_trailing_slash-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1893</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_baseurl_with_trailing_slash</span>
  <span class="ruby-ivar">@ts</span> = <span class="ruby-constant">TimeSync</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;http://ts.example.com/v0/&#39;</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>), <span class="ruby-string">&#39;http://ts.example.com/v0&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_baseurl_without_trailing_slash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_baseurl_without_trailing_slash</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that the trailing slash in the baseurl is removed</p>
          
          

          
          <div class="method-source-code" id="test_baseurl_without_trailing_slash-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1899</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_baseurl_without_trailing_slash</span>
  <span class="ruby-ivar">@ts</span> = <span class="ruby-constant">TimeSync</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;http://ts.example.com/v0&#39;</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>), <span class="ruby-string">&#39;http://ts.example.com/v0&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_activity_each_required_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_activity_each_required_missing</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create activity with missing required fields</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_activity_each_required_missing-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 592</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_activity_each_required_missing</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">activity</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Quality Assurance/Testing&#39;</span>,
      <span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;qa&#39;</span>
  ]

  <span class="ruby-identifier">activity_to_test</span> = <span class="ruby-identifier">activity</span>.<span class="ruby-identifier">clone</span>

  <span class="ruby-keyword">for</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">activity</span>
    <span class="ruby-identifier">activity_to_test</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(
                 <span class="ruby-identifier">activity_to_test</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;activity&#39;</span>, <span class="ruby-string">&#39;activities&#39;</span>),
                 <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;activity object: missing required field(s): %s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">key</span>])
    <span class="ruby-identifier">activity_to_test</span> = <span class="ruby-identifier">activity</span>.<span class="ruby-identifier">clone</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_activity_invalid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_activity_invalid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create activity with invalid field</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_activity_invalid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 561</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_activity_invalid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">activity</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Quality Assurance/Testing&#39;</span>,
      <span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;qa&#39;</span>,
      <span class="ruby-string">&#39;bad&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;field&#39;</span>
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">activity</span>, <span class="ruby-keyword">nil</span>,
                                              <span class="ruby-string">&#39;activity&#39;</span>,
                                              <span class="ruby-string">&#39;activites&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                      <span class="ruby-string">&#39;activity object: invalid field: bad&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_activity_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_activity_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create activity with no auth</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_activity_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 664</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_activity_no_auth</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">activity</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Quality Assurance/Testing&#39;</span>,
      <span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;qa&#39;</span>,
  ]

  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">activity</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;activity&quot;</span>, <span class="ruby-string">&quot;activities&quot;</span>),
                    <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Not authenticated with &quot;</span><span class="ruby-string">&quot;TimeSync, call authenticate first&quot;</span>])

<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_activity_required_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_activity_required_missing</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create activity with missing required fields</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_activity_required_missing-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 578</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_activity_required_missing</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">activity</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Quality Assurance/Testing&#39;</span>,
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">activity</span>, <span class="ruby-keyword">nil</span>,
                                              <span class="ruby-string">&#39;activity&#39;</span>,
                                              <span class="ruby-string">&#39;activities&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;activity object: missing required field(s): slug&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_activity_type_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_activity_type_error</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create activity with incorrect parameter types</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_activity_type_error-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 612</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_activity_type_error</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">param_list</span> = [<span class="ruby-value">1</span>, <span class="ruby-string">&#39;hello&#39;</span>, [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>], <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>, <span class="ruby-value">1.234</span>]

  <span class="ruby-identifier">param_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">param</span>, <span class="ruby-keyword">nil</span>,
                                      <span class="ruby-string">&#39;activity&#39;</span>,
                                      <span class="ruby-string">&#39;activities&#39;</span>),
                 <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;activity object: must be ruby hash&#39;</span>])

  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_activity_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_activity_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create activity with valid data</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_activity_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 490</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_activity_valid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Quality Assurance/Testing&#39;</span>,
    <span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;qa&#39;</span>
  ]

  <span class="ruby-comment"># Format content for assert_called_with test</span>
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
    <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">project</span>
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/activities&#39;</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">project</span>, <span class="ruby-keyword">nil</span>,
                       <span class="ruby-string">&#39;activity&#39;</span>, <span class="ruby-string">&#39;activities&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_project_each_required_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_project_each_required_missing</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create project with missing required fields</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_project_each_required_missing-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 456</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_project_each_required_missing</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;TimeSync API&#39;</span>,
    <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(timesync time)</span>,
  ]

  <span class="ruby-identifier">project_to_test</span> = <span class="ruby-identifier">project</span>.<span class="ruby-identifier">clone</span>

  <span class="ruby-keyword">for</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">project</span>
    <span class="ruby-identifier">project_to_test</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(
                      <span class="ruby-identifier">project_to_test</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;project&#39;</span>, <span class="ruby-string">&#39;projects&#39;</span>),
                      <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;project object: missing required field(s): %s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">key</span>])
    <span class="ruby-identifier">project_to_test</span> = <span class="ruby-identifier">project</span>.<span class="ruby-identifier">clone</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_project_invalid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_project_invalid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create project with invalid field</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_project_invalid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 418</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_project_invalid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://code.osuosl.org/projects/timesync&#39;</span>,
      <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;TimeSync API&#39;</span>,
      <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(timesync time)</span>,
      <span class="ruby-string">&#39;users&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[
          <span class="ruby-string">&#39;mrsj&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;member&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-string">&#39;spectator&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                         <span class="ruby-string">&#39;manager&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>],
          <span class="ruby-string">&#39;thai&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;member&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-string">&#39;spectator&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                         <span class="ruby-string">&#39;manager&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>]
      ],
      <span class="ruby-string">&#39;bad&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;field&#39;</span>
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">project</span>, <span class="ruby-keyword">nil</span>,
                                              <span class="ruby-string">&#39;project&#39;</span>,
                                              <span class="ruby-string">&#39;projects&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                     <span class="ruby-string">&#39;project object: invalid field: bad&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_project_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_project_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create project with no auth</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_project_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 647</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_project_no_auth</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://code.osuosl.org/projects/timesync&#39;</span>,
      <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;TimeSync API&#39;</span>,
      <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(timesync time)</span>,
  ]

  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">project</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;project&#39;</span>, <span class="ruby-string">&#39;projects&#39;</span>),
    <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>), <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_project_required_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_project_required_missing</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create project with missing required fields</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_project_required_missing-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 442</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_project_required_missing</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(timesync time)</span>,
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">project</span>, <span class="ruby-keyword">nil</span>,
                                    <span class="ruby-string">&#39;project&#39;</span>,
                                    <span class="ruby-string">&#39;project&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;project object: missing required field(s): name&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_project_type_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_project_type_error</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create project with incorrect parameter types</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_project_type_error-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 476</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_project_type_error</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">param_list</span> = <span class="ruby-constant">Array</span>[<span class="ruby-value">1</span>, <span class="ruby-string">&#39;hello&#39;</span>, [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>], <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>, <span class="ruby-value">1.234</span>]

  <span class="ruby-identifier">param_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">param</span>, <span class="ruby-keyword">nil</span>,
                                                <span class="ruby-string">&#39;project&#39;</span>, <span class="ruby-string">&#39;projects&#39;</span>),
                 <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                        <span class="ruby-string">&#39;project object: must be ruby hash&#39;</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_project_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_project_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create project with valid data</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_project_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 331</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_project_valid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://code.osuosl.org/projects/timesync&#39;</span>,
    <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;TimeSync API&#39;</span>,
    <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(timesync time)</span>,
    <span class="ruby-string">&#39;users&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[
        <span class="ruby-string">&#39;mrsj&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;member&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-string">&#39;spectator&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                       <span class="ruby-string">&#39;manager&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>],
        <span class="ruby-string">&#39;thai&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;member&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-string">&#39;spectator&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                       <span class="ruby-string">&#39;manager&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>]
    ]
  ]

  <span class="ruby-comment"># Format content for assert_called_with test</span>
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
    <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">project</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/projects&#39;</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">project</span>, <span class="ruby-keyword">nil</span>,
                       <span class="ruby-string">&#39;project&#39;</span>, <span class="ruby-string">&#39;projects&#39;</span>)

<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_time_each_required_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_time_each_required_missing</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
to create time with missing required fields</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_time_each_required_missing-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 152</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_time_each_required_missing</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>
  ]

  <span class="ruby-identifier">time_to_test</span> = <span class="ruby-identifier">time</span>.<span class="ruby-identifier">clone</span>

  <span class="ruby-keyword">for</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">time</span>
    <span class="ruby-identifier">time_to_test</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(
                   <span class="ruby-identifier">time_to_test</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;time&#39;</span>, <span class="ruby-string">&#39;times&#39;</span>),
                 <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;time object: missing required field(s): %s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">key</span>])
    <span class="ruby-identifier">time_to_test</span> = <span class="ruby-identifier">time</span>.<span class="ruby-identifier">clone</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_time_invalid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_time_invalid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create time with invalid field</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_time_invalid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_time_invalid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
      <span class="ruby-string">&#39;bad&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;field&#39;</span>
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">time</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;time&#39;</span>, <span class="ruby-string">&#39;times&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;time object: invalid field: bad&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_time_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_time_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create time with no auth</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_time_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 626</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_time_no_auth</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]

  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">time</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;time&quot;</span>, <span class="ruby-string">&quot;times&quot;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Not authenticated with &quot;</span><span class="ruby-string">&quot;TimeSync, call authenticate first&quot;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_time_two_required_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_time_two_required_missing</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html">TimeSync</a>._TimeSync__create_or_update for
create time with missing required fields</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_time_two_required_missing-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_time_two_required_missing</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">time</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;time&#39;</span>, <span class="ruby-string">&#39;times&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                     <span class="ruby-string">&#39;time object: missing required field(s): duration, project&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_time_type_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_time_type_error</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create time with incorrect parameter types</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_time_type_error-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 174</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_time_type_error</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">param_list</span> = <span class="ruby-constant">Array</span>[<span class="ruby-value">1</span>, <span class="ruby-string">&#39;hello&#39;</span>, [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>], <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>, <span class="ruby-value">1.234</span>]

  <span class="ruby-identifier">param_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">param</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;time&#39;</span>, <span class="ruby-string">&#39;times&#39;</span>),
                 <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;time object: must be ruby hash&#39;</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_time_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_time_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>rubocop:disable MethodLength Tests <a
href="TimeSync.html">TimeSync</a>._TimeSync.create_or_update for create
time with valid data</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_time_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_time_valid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]

  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
      <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">time</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/times&#39;</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">time</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;time&#39;</span>, <span class="ruby-string">&#39;times&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_user_each_required_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_user_each_required_missing</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
to create user with missing required fields</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_user_each_required_missing-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_user_each_required_missing</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">user</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;username&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;password&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;password&#39;</span>,
  ]

  <span class="ruby-identifier">user_to_test</span> = <span class="ruby-identifier">user</span>.<span class="ruby-identifier">clone</span>

  <span class="ruby-keyword">for</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">user</span>
    <span class="ruby-identifier">user_to_test</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)  <span class="ruby-comment"># delete mutates the hash</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(
                 <span class="ruby-identifier">user_to_test</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;user&#39;</span>, <span class="ruby-string">&#39;users&#39;</span>),
                 <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;user object: missing required field(s): %s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">key</span>])
    <span class="ruby-identifier">user_to_test</span> = <span class="ruby-identifier">user</span>.<span class="ruby-identifier">clone</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_user_invalid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_user_invalid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create user with invalid field</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_user_invalid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 264</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_user_invalid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">user</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;username&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;password&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;password&#39;</span>,
      <span class="ruby-string">&#39;display_name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Example User&#39;</span>,
      <span class="ruby-string">&#39;email&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example.user@example.com&#39;</span>,
      <span class="ruby-string">&#39;bad&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;field&#39;</span>
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">user</span>, <span class="ruby-keyword">nil</span>,
                                              <span class="ruby-string">&#39;user&#39;</span>,
                                              <span class="ruby-string">&#39;users&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                      <span class="ruby-string">&#39;user object: invalid field: bad&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_user_two_required_missing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_user_two_required_missing</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create user with missing required fields</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_user_two_required_missing-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 283</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_user_two_required_missing</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">user</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;display_name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Example User&#39;</span>,
      <span class="ruby-string">&#39;email&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example.user@example.com&#39;</span>
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">user</span>, <span class="ruby-keyword">nil</span>,
                                              <span class="ruby-string">&#39;user&#39;</span>,
                                              <span class="ruby-string">&#39;users&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;user object: missing required field(s): username, password&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_user_type_error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_user_type_error</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create user with incorrect parameter types</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_user_type_error-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 318</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_user_type_error</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">param_list</span> = [<span class="ruby-value">1</span>, <span class="ruby-string">&#39;hello&#39;</span>, [<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">3</span>], <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">true</span>, <span class="ruby-keyword">false</span>, <span class="ruby-value">1.234</span>]

  <span class="ruby-identifier">param_list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">param</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">param</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;user&#39;</span>, <span class="ruby-string">&#39;users&#39;</span>),
                 <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                      <span class="ruby-string">&#39;user object: must be ruby hash&#39;</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_create_user_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_create_user_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for create user with valid data</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_create_user_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 185</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_create_user_valid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">user</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;username&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;password&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;password&#39;</span>,
      <span class="ruby-string">&#39;display_name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Example User&#39;</span>,
      <span class="ruby-string">&#39;email&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example.user@example.com&#39;</span>,
  ]

  <span class="ruby-comment"># Format content for assert_called_with test</span>
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
      <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/users&#39;</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">user</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;user&#39;</span>, <span class="ruby-string">&#39;users&#39;</span>)

<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_activity_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_activity_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html">TimeSync</a>._TimeSync__create_or_update for
update activity with no auth</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_activity_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 721</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_activity_no_auth</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">activity</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Quality Assurance/Testing&#39;</span>,
      <span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;qa&#39;</span>,
  ]

  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">activity</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;activity&quot;</span>, <span class="ruby-string">&quot;activities&quot;</span>,
                                   <span class="ruby-keyword">false</span>),
              <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Not authenticated with &quot;</span><span class="ruby-string">&quot;TimeSync, call authenticate first&quot;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_activity_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_activity_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for update activity with valid parameters</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_activity_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 514</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_activity_valid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">activity</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Quality Assurance/Testing&#39;</span>,
    <span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;qa&#39;</span>,
  ]

  <span class="ruby-comment"># Format content for assert_called_with test</span>
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
    <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">activity</span>
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/activities/slug&#39;</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">activity</span>, <span class="ruby-string">&#39;slug&#39;</span>,
                       <span class="ruby-string">&#39;activity&#39;</span>, <span class="ruby-string">&#39;activities&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_activity_valid_less_fields" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_activity_valid_less_fields</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for update activity with one valid parameter</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_activity_valid_less_fields-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 538</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_activity_valid_less_fields</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">activity</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;qa&#39;</span>,
  ]

  <span class="ruby-comment"># Format content for assert_called_with test</span>
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
      <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">activity</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/activities/slug&#39;</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">activity</span>, <span class="ruby-string">&#39;slug&#39;</span>, <span class="ruby-string">&#39;activity&#39;</span>,
                       <span class="ruby-string">&#39;activities&#39;</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_project_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_project_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html">TimeSync</a>._TimeSync__create_or_update for
update project with no auth</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_project_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 703</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_project_no_auth</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://code.osuosl.org/projects/timesync&#39;</span>,
      <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;TimeSync API&#39;</span>,
      <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;timesync&#39;</span>, <span class="ruby-string">&#39;time&#39;</span>],
  ]

  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">project</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;project&quot;</span>, <span class="ruby-string">&quot;project&quot;</span>,
                                    <span class="ruby-keyword">false</span>),
              <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Not authenticated with &quot;</span><span class="ruby-string">&quot;TimeSync, call authenticate first&quot;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_project_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_project_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for update project with valid parameters</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_project_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 363</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_project_valid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://code.osuosl.org/projects/timesync&#39;</span>,
      <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;TimeSync API&#39;</span>,
      <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(timesync time)</span>,
      <span class="ruby-string">&#39;users&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[
          <span class="ruby-string">&#39;mrsj&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;member&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-string">&#39;spectator&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                         <span class="ruby-string">&#39;manager&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>],
          <span class="ruby-string">&#39;thai&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;member&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-string">&#39;spectator&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                         <span class="ruby-string">&#39;manager&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>]
      ]
  ]

  <span class="ruby-comment"># Format content for assert_called_with test</span>
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
      <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">project</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/projects/slug&#39;</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">project</span>, <span class="ruby-string">&#39;slug&#39;</span>,
                                 <span class="ruby-string">&#39;project&#39;</span>, <span class="ruby-string">&#39;projects&#39;</span>)

<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_project_valid_less_fields" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_project_valid_less_fields</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for update project with one valid parameter</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_project_valid_less_fields-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 395</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_project_valid_less_fields</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(timesync time)</span>,
  ]

  <span class="ruby-comment"># Format content for assert_called_with test</span>
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
      <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">project</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/projects/slug&#39;</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">project</span>, <span class="ruby-string">&#39;slug&#39;</span>, <span class="ruby-string">&#39;project&#39;</span>,
                       <span class="ruby-string">&#39;projects&#39;</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_time_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_time_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html">TimeSync</a>._TimeSync__create_or_update for
update time with no auth</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_time_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 681</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_time_no_auth</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]

  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">time</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;time&quot;</span>, <span class="ruby-string">&quot;times&quot;</span>,
                                    <span class="ruby-keyword">false</span>),
                    <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Not authenticated with &quot;</span><span class="ruby-string">&quot;TimeSync, call authenticate first&quot;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_time_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_time_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html">TimeSync</a>._TimeSync.create_or_update for
update time with valid data</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_time_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 60</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_time_valid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]


  <span class="ruby-comment"># Format content for assert_called_with test</span>
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
      <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">time</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-comment"># Test baseurl and uuid</span>
  <span class="ruby-identifier">uuid</span> = <span class="ruby-string">&#39;1234-5678-90abc-d&#39;</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/times/%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">uuid</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">time</span>, <span class="ruby-identifier">uuid</span>, <span class="ruby-string">&#39;time&#39;</span>, <span class="ruby-string">&#39;times&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_time_valid_less_fields" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_time_valid_less_fields</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for update time with one valid parameter</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_time_valid_less_fields-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_time_valid_less_fields</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>,
  ]

  <span class="ruby-comment"># Test baseurl and uuid</span>
  <span class="ruby-identifier">uuid</span> = <span class="ruby-string">&#39;1234-5678-90abc-d&#39;</span>

  <span class="ruby-comment"># Format content for assert_called_with test</span>
  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
      <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">time</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/times/%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">uuid</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">time</span>, <span class="ruby-identifier">uuid</span>, <span class="ruby-string">&#39;time&#39;</span>, <span class="ruby-string">&#39;times&#39;</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_user_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_user_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for update user with valid data</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_user_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_user_valid</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">user</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;username&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;password&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;password&#39;</span>,
      <span class="ruby-string">&#39;display_name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Example User&#39;</span>,
      <span class="ruby-string">&#39;email&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example.user@example.com&#39;</span>,
  ]

  <span class="ruby-comment"># Test baseurl and uuid</span>
  <span class="ruby-identifier">username</span> = <span class="ruby-string">&#39;example-user&#39;</span>

  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
      <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/users/%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">username</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">username</span>, <span class="ruby-string">&#39;user&#39;</span>,
                                 <span class="ruby-string">&#39;users&#39;</span>, <span class="ruby-keyword">false</span>)

<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_or_update_update_user_valid_less_fields" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_or_update_update_user_valid_less_fields</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-create_or_update">TimeSync#create_or_update</a>
for update user with one valid parameter</p>
          
          

          
          <div class="method-source-code" id="test_create_or_update_update_user_valid_less_fields-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_or_update_update_user_valid_less_fields</span>
  <span class="ruby-comment"># Parameters to be sent to TimeSync</span>
  <span class="ruby-identifier">user</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;display_name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Example User&#39;</span>,
  ]

  <span class="ruby-comment"># Test baseurl and uuid</span>
  <span class="ruby-identifier">username</span> = <span class="ruby-string">&#39;example-user&#39;</span>

  <span class="ruby-identifier">content</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;auth&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_auth</span>,
      <span class="ruby-string">&#39;object&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user</span>,
  ].<span class="ruby-identifier">to_json</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;http://ts.example.com/v0/users/%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">username</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:post</span>, <span class="ruby-identifier">url</span>).<span class="ruby-identifier">with</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>)

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_or_update</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">username</span>, <span class="ruby-string">&#39;user&#39;</span>,
                                 <span class="ruby-string">&#39;users&#39;</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_time_with_invalid_string_duration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_time_with_invalid_string_duration</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests that <a
href="TimeSync.html#method-i-create_time">TimeSync#create_time</a> will
fail if a string containing multiple hours/minutes is entered</p>
          
          

          
          <div class="method-source-code" id="test_create_time_with_invalid_string_duration-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1405</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_time_with_invalid_string_duration</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;3h30m15h&#39;</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_time</span>(<span class="ruby-identifier">time</span>),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;time object: invalid duration string&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_time_with_junk_string_duration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_time_with_junk_string_duration</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests that <a
href="TimeSync.html#method-i-create_time">TimeSync#create_time</a> will
fail if a string containing no hours/minutes is entered</p>
          
          

          
          <div class="method-source-code" id="test_create_time_with_junk_string_duration-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1370</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_time_with_junk_string_duration</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;junktime&#39;</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_time</span>(<span class="ruby-identifier">time</span>),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                     <span class="ruby-string">&#39;time object: invalid duration string&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_time_with_negative_duration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_time_with_negative_duration</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests that <a
href="TimeSync.html#method-i-create_time">TimeSync#create_time</a> will
return an error if a negative duration is passed</p>
          
          

          
          <div class="method-source-code" id="test_create_time_with_negative_duration-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1326</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_time_with_negative_duration</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12_600</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_time</span>(<span class="ruby-identifier">time</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                     <span class="ruby-string">&#39;time object: duration cannot be negative&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_create_user_invalid_admin" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_create_user_invalid_admin</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>rubocop:disable MethodLength Tests that <a
href="TimeSync.html#method-i-create_user">TimeSync#create_user</a> returns
error with invalid perm field</p>
          
          

          
          <div class="method-source-code" id="test_create_user_invalid_admin-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1463</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_create_user_invalid_admin</span>
  <span class="ruby-identifier">user</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;username&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;password&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;password&#39;</span>,
      <span class="ruby-string">&#39;display_name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Example User&#39;</span>,
      <span class="ruby-string">&#39;email&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example.user@example.com&#39;</span>,
      <span class="ruby-string">&#39;site_admin&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-string">&#39;site_spectator&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
      <span class="ruby-string">&#39;site_manager&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-string">&#39;active&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
  ]

  <span class="ruby-identifier">user_to_test</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">user</span>]
  <span class="ruby-identifier">ary</span> = <span class="ruby-node">%w(site_admin site_spectator site_manager active)</span>
  <span class="ruby-identifier">ary</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">perm</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">user_to_test</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">user</span>]
    <span class="ruby-identifier">user_to_test</span>[<span class="ruby-identifier">perm</span>] = <span class="ruby-string">&#39;invalid&#39;</span>
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_user</span>(<span class="ruby-identifier">user_to_test</span>),
                 <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;user object: %s must be True or False&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">perm</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_activity_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_activity_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that delete_activity returns proper error on authentication failure</p>
          
          

          
          <div class="method-source-code" id="test_delete_activity_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1697</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_activity_no_auth</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_activity</span>(<span class="ruby-string">&#39;code&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;rimesync error&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_activity_no_slug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_activity_no_slug</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that delete_activity returns proper error when slug not provided</p>
          
          

          
          <div class="method-source-code" id="test_delete_activity_no_slug-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1704</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_activity_no_slug</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_activity</span>,
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;rimesync error&#39;</span> =<span class="ruby-operator">&gt;</span>
                     <span class="ruby-string">&#39;missing slug; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_object_activity" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_object_activity</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that _delete_object calls requests.delete with the correct url</p>
          
          

          
          <div class="method-source-code" id="test_delete_object_activity-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1641</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_object_activity</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/activities/code?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:delete</span>, <span class="ruby-identifier">url</span>)
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_object</span>(<span class="ruby-string">&#39;activities&#39;</span>, <span class="ruby-string">&#39;code&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_object_project" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_object_project</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that _delete_object calls requests.delete with the correct url</p>
          
          

          
          <div class="method-source-code" id="test_delete_object_project-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1633</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_object_project</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/projects/ts?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                            <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:delete</span>, <span class="ruby-identifier">url</span>)
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_object</span>(<span class="ruby-string">&#39;projects&#39;</span>, <span class="ruby-string">&#39;ts&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_object_time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_object_time</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that _delete_object calls requests.delete with the correct url</p>
          
          

          
          <div class="method-source-code" id="test_delete_object_time-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1625</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_object_time</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times/abcd-3453-3de3-99sh?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                        <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:delete</span>, <span class="ruby-identifier">url</span>)
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_object</span>(<span class="ruby-string">&#39;times&#39;</span>, <span class="ruby-string">&#39;abcd-3453-3de3-99sh&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_object_user" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_object_user</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that _delete_object calls requests.delete with the correct url</p>
          
          

          
          <div class="method-source-code" id="test_delete_object_user-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1649</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_object_user</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/users/example-user?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                   <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:delete</span>, <span class="ruby-identifier">url</span>)
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_object</span>(<span class="ruby-string">&#39;users&#39;</span>, <span class="ruby-string">&#39;example-user&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_project_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_project_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that delete_project returns proper error on authentication failure</p>
          
          

          
          <div class="method-source-code" id="test_delete_project_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1679</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_project_no_auth</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_project</span>(<span class="ruby-string">&#39;ts&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;rimesync error&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_project_no_slug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_project_no_slug</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that delete_project returns proper error when slug not provided</p>
          
          

          
          <div class="method-source-code" id="test_delete_project_no_slug-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1686</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_project_no_slug</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_project</span>,
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;rimesync error&#39;</span> =<span class="ruby-operator">&gt;</span>
                    <span class="ruby-string">&#39;missing slug; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_time_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_time_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that delete_time returns proper error on authentication failure</p>
          
          

          
          <div class="method-source-code" id="test_delete_time_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1661</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_time_no_auth</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_time</span>(<span class="ruby-identifier">uuid</span><span class="ruby-operator">:</span> <span class="ruby-string">&#39;abcd-3453-3de3-99sh&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;rimesync error&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_time_no_uuid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_time_no_uuid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that delete_time returns proper error when uuid not provided</p>
          
          

          
          <div class="method-source-code" id="test_delete_time_no_uuid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1668</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_time_no_uuid</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_time</span>,
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;rimesync error&#39;</span> =<span class="ruby-operator">&gt;</span>
                    <span class="ruby-string">&#39;missing uuid; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_user_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_user_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that delete_user returns proper error on authentication failure</p>
          
          

          
          <div class="method-source-code" id="test_delete_user_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1715</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_user_no_auth</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_user</span>(<span class="ruby-string">&#39;example-user&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;rimesync error&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_delete_user_no_username" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_delete_user_no_username</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that delete_user returns proper error when username not provided</p>
          
          

          
          <div class="method-source-code" id="test_delete_user_no_username-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1722</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_delete_user_no_username</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">delete_user</span>,
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;rimesync error&#39;</span> =<span class="ruby-operator">&gt;</span>
                     <span class="ruby-string">&#39;missing username; please add to method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_duration_invalid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_duration_invalid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests for duration validity - if the duration given is a negative int, an
error message is returned</p>
          
          

          
          <div class="method-source-code" id="test_duration_invalid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1777</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_duration_invalid</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12600</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">create_time</span>(<span class="ruby-identifier">time</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span><span class="ruby-string">&#39;time object: duration cannot be negative&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_duration_to_seconds" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_duration_to_seconds</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests that when a string duration is entered, it is converted to an integer</p>
          
          

          
          <div class="method-source-code" id="test_duration_to_seconds-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1761</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_duration_to_seconds</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;3h30m&#39;</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">duration_to_seconds</span>(<span class="ruby-identifier">time</span>[<span class="ruby-string">&#39;duration&#39;</span>]), <span class="ruby-value">12_600</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_duration_to_seconds_with_invalid_str" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_duration_to_seconds_with_invalid_str</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>rubocop:disable MethodLength Tests that when an invalid string duration is
entered, an error message is returned</p>
          
          

          
          <div class="method-source-code" id="test_duration_to_seconds_with_invalid_str-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1794</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_duration_to_seconds_with_invalid_str</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;3hh30m&#39;</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">duration_to_seconds</span>(<span class="ruby-identifier">time</span>[<span class="ruby-string">&#39;duration&#39;</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;time object: invalid duration string&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_activities" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_activities</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_activities">TimeSync#get_activities</a></p>
          
          

          
          <div class="method-source-code" id="test_get_activities-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1065</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_activities</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/activities?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                         <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-identifier">url</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_activities</span>,
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_activities_include_deleted" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_activities_include_deleted</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_activities">TimeSync#get_activities</a>
with include_deleted query</p>
          
          

          
          <div class="method-source-code" id="test_get_activities_include_deleted-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_activities_include_deleted</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/activities?include_deleted=true&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                              <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*activities.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_activities</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
                    [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_activities_include_deleted_include_revisions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_activities_include_deleted_include_revisions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_activities">TimeSync#get_activities</a>
with include_revisions and include_deleted queries</p>
          
          

          
          <div class="method-source-code" id="test_get_activities_include_deleted_include_revisions-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1143</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_activities_include_deleted_include_revisions</span>
  <span class="ruby-identifier">token_string</span> = <span class="ruby-string">&#39;&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)
  <span class="ruby-identifier">endpoint</span> = <span class="ruby-string">&#39;/activities&#39;</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s%s?include_deleted=true&amp;include_revisions=true%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                                     <span class="ruby-identifier">endpoint</span>, <span class="ruby-identifier">token_string</span>]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*activities.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]))

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_activities</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                                      <span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])

<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_activities_include_deleted_with_slug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_activities_include_deleted_with_slug</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_activities">TimeSync#get_activities</a>
with include_deleted query and slug, which is not allowed</p>
          
          

          
          <div class="method-source-code" id="test_get_activities_include_deleted_with_slug-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1126</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_activities_include_deleted_with_slug</span>
  <span class="ruby-comment"># Mock requests.get</span>
  <span class="ruby-comment"># requests.get = mock.Mock(&#39;requests.get&#39;)</span>

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*/</span>)
  <span class="ruby-comment"># .to_return(:body =&gt; JSON.dump(Hash[&#39;this&#39; =&gt; &#39;should be in a list&#39;]))</span>

  <span class="ruby-comment"># Test that error message is returned, can&#39;t combine slug and</span>
  <span class="ruby-comment"># include_deleted</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_activities</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;code&#39;</span>,
                                      <span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                     <span class="ruby-string">&#39;invalid combination: slug and include_deleted&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_activities_include_revisions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_activities_include_revisions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_activities">TimeSync#get_activities</a>
with include_revisions query</p>
          
          

          
          <div class="method-source-code" id="test_get_activities_include_revisions-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1089</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_activities_include_revisions</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/activities?include_revisions=true&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                                <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*activities.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_activities</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_activities_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_activities_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that get_activities returns error message when auth not set</p>
          
          

          
          <div class="method-source-code" id="test_get_activities_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1174</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_activities_no_auth</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_activities</span>,
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_activities_slug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_activities_slug</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_activities">TimeSync#get_activities</a>
with slug</p>
          
          

          
          <div class="method-source-code" id="test_get_activities_slug-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1077</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_activities_slug</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/activities/code?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                              <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*activities.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_activities</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;code&#39;</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_activities_slug_include_revisions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_activities_slug_include_revisions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_projects">TimeSync#get_projects</a> with
include_revisions query and slug</p>
          
          

          
          <div class="method-source-code" id="test_get_activities_slug_include_revisions-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_activities_slug_include_revisions</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;{%s/activities/code?include_revisions=true&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                                      <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*activities.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]))


  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_activities</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;code&#39;</span>,
                                      <span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_all_times" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_all_times</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with no parameters</p>
          
          

          
          <div class="method-source-code" id="test_get_all_times-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 951</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_all_times</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                      <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>,
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_projects" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_projects</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_projects">TimeSync#get_projects</a></p>
          
          

          
          <div class="method-source-code" id="test_get_projects-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 970</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_projects</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/projects?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                         <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*projects.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_projects</span>,
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_projects_include_deleted" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_projects_include_deleted</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_projects">TimeSync#get_projects</a> with
include_deleted query</p>
          
          

          
          <div class="method-source-code" id="test_get_projects_include_deleted-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1018</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_projects_include_deleted</span>
  <span class="ruby-comment"># response = resp</span>
  <span class="ruby-comment"># response.body = json.dump(Hash[&#39;this&#39; =&gt; &#39;should be in a list&#39;])</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/projects?include_deleted=true&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                              <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*projects.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_projects</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_projects_include_deleted_include_revisions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_projects_include_deleted_include_revisions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_projects">TimeSync#get_projects</a> with
include_revisions and include_deleted queries</p>
          
          

          
          <div class="method-source-code" id="test_get_projects_include_deleted_include_revisions-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1048</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_projects_include_deleted_include_revisions</span>
  <span class="ruby-comment"># response = resp</span>
  <span class="ruby-comment"># response.body = json.dump(Hash[&#39;this&#39; =&gt; &#39;should be in a list&#39;])</span>
  <span class="ruby-identifier">token_string</span> = <span class="ruby-string">&#39;&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)
  <span class="ruby-identifier">endpoint</span> = <span class="ruby-string">&#39;/projects&#39;</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s%s?include_deleted=true&amp;include_revisions=true%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                                     <span class="ruby-identifier">endpoint</span>, <span class="ruby-identifier">token_string</span>]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*projects.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_projects</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                                    <span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_projects_include_deleted_with_slug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_projects_include_deleted_with_slug</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_projects">TimeSync#get_projects</a> with
include_deleted query and slug, which is not allowed</p>
          
          

          
          <div class="method-source-code" id="test_get_projects_include_deleted_with_slug-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1033</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_projects_include_deleted_with_slug</span>
  <span class="ruby-comment"># Mock requests.get</span>
  <span class="ruby-comment"># requests.get = mock.Mock(&#39;requests.get&#39;) # won&#39;t work</span>
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*/</span>)

  <span class="ruby-comment"># Test that error message is returned,</span>
  <span class="ruby-comment"># can&#39;t combine slug and include_deleted</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_projects</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;gwm&#39;</span>,
                                    <span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                     <span class="ruby-string">&#39;invalid combination: slug and include_deleted&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_projects_include_revisions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_projects_include_revisions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_projects">TimeSync#get_projects</a> with
include_revisions query</p>
          
          

          
          <div class="method-source-code" id="test_get_projects_include_revisions-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 993</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_projects_include_revisions</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/projects?include_revisions=true&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                                <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*projects.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_projects</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_projects_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_projects_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that get_projects returns error message when auth not set</p>
          
          

          
          <div class="method-source-code" id="test_get_projects_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1167</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_projects_no_auth</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_projects</span>,
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_projects_slug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_projects_slug</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_projects">TimeSync#get_projects</a> with
slug</p>
          
          

          
          <div class="method-source-code" id="test_get_projects_slug-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 981</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_projects_slug</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;{0}/projects/gwm?token={1}&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                             <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*projects.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_projects</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;gwm&#39;</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_projects_slug_include_revisions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_projects_slug_include_revisions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a
href="TimeSync.html#method-i-get_projects">TimeSync#get_projects</a> with
include_revisions query and slug</p>
          
          

          
          <div class="method-source-code" id="test_get_projects_slug_include_revisions-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1005</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_projects_slug_include_revisions</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/projects/gwm?include_revisions=true&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                                    <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*projects.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_projects</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;slug&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;gwm&#39;</span>,
                                    <span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_activity" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_activity</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with activity query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_activity-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 775</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_activity</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?activity=dev&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                   <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;activity&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;dev&#39;</span>]]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_activity_x3" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_activity_x3</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with project and activity query parameters</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_activity_x3-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 870</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_activity_x3</span>
  <span class="ruby-identifier">token_string</span> = <span class="ruby-string">&#39;&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?activity=dev&amp;activity=rev&amp;activity=hd%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                                   <span class="ruby-identifier">token_string</span>]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;activity&#39;</span> =<span class="ruby-operator">&gt;</span>
                                  <span class="ruby-constant">Array</span>[<span class="ruby-string">&#39;dev&#39;</span>, <span class="ruby-string">&#39;rev&#39;</span>, <span class="ruby-string">&#39;hd&#39;</span>]]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_end_date" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_end_date</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with end date query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_end_date-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 799</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_end_date</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?end=2015-07-23&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                   <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;end&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;2015-07-23&#39;</span>]]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_include_deleted" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_include_deleted</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with include_deleted query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_include_deleted-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 835</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_include_deleted</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?include_deleted=true&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                         <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_include_deleted_false" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_include_deleted_false</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with include_revisions false query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_include_deleted_false-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 846</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_include_deleted_false</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?include_deleted=false&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                          <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_include_revisions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_include_revisions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with include_revisions query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_include_revisions-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 811</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_include_revisions</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?include_revisions=true&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                           <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_include_revisions_false" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_include_revisions_false</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with include_revisions false query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_include_revisions_false-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 823</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_include_revisions_false</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?include_revisions=false&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                            <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_proj" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_proj</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with project query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_proj-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 763</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_proj</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?project=gwm&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                      <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;gwm&#39;</span>]]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_proj_and_activity" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_proj_and_activity</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with project and activity query parameters</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_proj_and_activity-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 857</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_proj_and_activity</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?activity=dev&amp;project=gwm&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                             <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;gwm&#39;</span>],
                                  <span class="ruby-string">&#39;activity&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;dev&#39;</span>]]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_start_date" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_start_date</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with start date query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_start_date-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 787</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_start_date</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?start=2015-07-23&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                     <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;start&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;2015-07-23&#39;</span>]]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_for_user" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_for_user</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with username query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_for_user-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 750</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_for_user</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times?user=example-user&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                      <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))


  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@user</span>)]]),
              [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_with_uuid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_with_uuid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with uuid query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_time_with_uuid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 883</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_with_uuid</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times/sadfasdg432?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sadfasdg432&#39;</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_with_uuid_and_activity" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_with_uuid_and_activity</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with uuid and activity query parameters</p>
          
          

          
          <div class="method-source-code" id="test_get_time_with_uuid_and_activity-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 895</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_with_uuid_and_activity</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times/sadfasdg432?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sadfasdg432&#39;</span>,
                                 <span class="ruby-string">&#39;activity&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;dev&#39;</span>]]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_with_uuid_and_include_deleted" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_with_uuid_and_include_deleted</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with uuid and include_deleted query parameters</p>
          
          

          
          <div class="method-source-code" id="test_get_time_with_uuid_and_include_deleted-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 920</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_with_uuid_and_include_deleted</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/times/sadfasdg432?include_deleted=true&amp;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                                     <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sadfasdg432&#39;</span>,
                                 <span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_with_uuid_and_include_revisions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_with_uuid_and_include_revisions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with uuid and include_revisions query parameters</p>
          
          

          
          <div class="method-source-code" id="test_get_time_with_uuid_and_include_revisions-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 908</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_with_uuid_and_include_revisions</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;{0}/times/sadfasdg432?include_revisions=true&amp;token={1}&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                                                         <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sadfasdg432&#39;</span>,
                                 <span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_time_with_uuid_include_deleted_and_revisions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_time_with_uuid_include_deleted_and_revisions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with uuid and include_deleted query parameters</p>
          
          

          
          <div class="method-source-code" id="test_get_time_with_uuid_include_deleted_and_revisions-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 933</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_time_with_uuid_include_deleted_and_revisions</span>
  <span class="ruby-identifier">endpoint</span> = <span class="ruby-string">&#39;times&#39;</span>
  <span class="ruby-identifier">uuid</span> = <span class="ruby-string">&#39;sadfasdg432&#39;</span>
  <span class="ruby-identifier">token</span> = <span class="ruby-string">&#39;token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)
  <span class="ruby-identifier">queries</span> = <span class="ruby-string">&#39;include_deleted=true&amp;include_revisions=true&#39;</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/%s/%s?%s&amp;%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>), <span class="ruby-identifier">endpoint</span>, <span class="ruby-identifier">uuid</span>,
                                 <span class="ruby-identifier">queries</span>, <span class="ruby-identifier">token</span>]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*times.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sadfasdg432&#39;</span>,
                                  <span class="ruby-string">&#39;include_revisions&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                                  <span class="ruby-string">&#39;include_deleted&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_times_bad_query" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_times_bad_query</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_times">TimeSync#get_times</a>
with an invalid query parameter</p>
          
          

          
          <div class="method-source-code" id="test_get_times_bad_query-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 963</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_times_bad_query</span>
  <span class="ruby-comment"># Should return the error</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;bad&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;query&#39;</span>]]),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;invalid query: bad&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_times_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_times_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that get_times returns error message when auth not set</p>
          
          

          
          <div class="method-source-code" id="test_get_times_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_times_no_auth</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_times</span>,
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_users" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_users</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_users">TimeSync#get_users</a></p>
          
          

          
          <div class="method-source-code" id="test_get_users-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1181</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_users</span>
  <span class="ruby-comment"># response = resp</span>
  <span class="ruby-comment"># response.body = json.dump(Hash[&#39;this&#39; =&gt; &#39;should be in a list&#39;])</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/users?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                    <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-identifier">url</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>([<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]]))

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_users</span>,
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_users_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_users_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that get_users returns error message when auth not set</p>
          
          

          
          <div class="method-source-code" id="test_get_users_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1208</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_users_no_auth</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_users</span>,
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_get_users_username" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_get_users_username</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests <a href="TimeSync.html#method-i-get_users">TimeSync#get_users</a>
with username</p>
          
          

          
          <div class="method-source-code" id="test_get_users_username-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_get_users_username</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-string">&#39;%s/users/%s?token=%s&#39;</span> <span class="ruby-operator">%</span> <span class="ruby-constant">Array</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@baseurl</span>),
                                       <span class="ruby-string">&#39;example-user&#39;</span>, <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)]
  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*users.*/</span>)
  .<span class="ruby-identifier">to_return</span>(<span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]))

  <span class="ruby-comment"># Send it</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">get_users</span>(<span class="ruby-identifier">username</span> = <span class="ruby-string">&#39;example-user&#39;</span>),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;this&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;should be in a list&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_handle_other_connection_response" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_handle_other_connection_response</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that pymesync doesn&#39;t break when getting a response that is not a
JSON object</p>
          
          

          
          <div class="method-source-code" id="test_handle_other_connection_response-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1617</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_handle_other_connection_response</span>
  <span class="ruby-identifier">body</span> = <span class="ruby-string">&#39;NOTAJSONOBJECT&#39;</span>
  <span class="ruby-identifier">code</span> = <span class="ruby-value">502</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">response_to_ruby</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">code</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;connection to TimeSync failed at baseurl http://ts.example.com/v0 - response status was 502&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_hash_user_password" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_hash_user_password</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_hash_user_password-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1485</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_hash_user_password</span>
  <span class="ruby-comment"># Tests that passwords are hashed correctly</span>
  <span class="ruby-identifier">user</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;username&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;user&#39;</span>,
      <span class="ruby-string">&#39;password&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;pass&#39;</span>
  ]

  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">hash_user_password</span>(<span class="ruby-identifier">user</span>)

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-constant">BCrypt</span><span class="ruby-operator">::</span><span class="ruby-constant">Password</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">user</span>[<span class="ruby-string">&#39;password&#39;</span>]), <span class="ruby-identifier">user</span>[<span class="ruby-string">&#39;password&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_instantiate_with_token" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_instantiate_with_token</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that instantiating rimesync with a token sets the token variable</p>
          
          

          
          <div class="method-source-code" id="test_instantiate_with_token-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 21</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_instantiate_with_token</span>
  <span class="ruby-ivar">@ts</span> = <span class="ruby-constant">TimeSync</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">baseurl</span> = <span class="ruby-string">&#39;baseurl&#39;</span>, <span class="ruby-identifier">token</span> = <span class="ruby-string">&#39;TOKENTOCHECK&#39;</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>), <span class="ruby-string">&#39;TOKENTOCHECK&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_instantiate_without_token" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_instantiate_without_token</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that instantiating rimesync without a token does not sets the token
variable</p>
          
          

          
          <div class="method-source-code" id="test_instantiate_without_token-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 28</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_instantiate_without_token</span>
  <span class="ruby-ivar">@ts</span> = <span class="ruby-constant">TimeSync</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;baseurl&#39;</span>)
  <span class="ruby-identifier">assert_nil</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_local_auth_error_no_token" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_local_auth_error_no_token</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test internal local_auth_error method with no token</p>
          
          

          
          <div class="method-source-code" id="test_local_auth_error_no_token-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1609</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_local_auth_error_no_token</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">local_auth_error</span>,
               <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_local_auth_error_with_token" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_local_auth_error_with_token</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test internal local_auth_error method with token</p>
          
          

          
          <div class="method-source-code" id="test_local_auth_error_with_token-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1604</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_local_auth_error_with_token</span>
  <span class="ruby-identifier">assert_nil</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">local_auth_error</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_project_users_error_response" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_project_users_error_response</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test project_users method with an error object returned from <a
href="TimeSync.html">TimeSync</a></p>
          
          

          
          <div class="method-source-code" id="test_project_users_error_response-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1873</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_project_users_error_response</span>
  <span class="ruby-identifier">proj</span> = <span class="ruby-string">&#39;rimes&#39;</span>
  <span class="ruby-identifier">body</span> = <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;error&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Object not found&#39;</span>, <span class="ruby-string">&#39;text&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;nilxistent project&#39;</span>])

  <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*/</span>).<span class="ruby-identifier">to_return</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">body</span>)

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">project_users</span>(<span class="ruby-identifier">project</span> = <span class="ruby-identifier">proj</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;error&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Object not found&#39;</span>,
                    <span class="ruby-string">&#39;text&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;nilxistent project&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_project_users_no_project_parameter" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_project_users_no_project_parameter</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test project_users method with no project object passed as a parameter,
should return an error</p>
          
          

          
          <div class="method-source-code" id="test_project_users_no_project_parameter-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1886</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_project_users_no_project_parameter</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">project_users</span>,
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                    <span class="ruby-string">&#39;Missing project slug, please include in method call&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_project_users_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_project_users_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test project_users method with a valid project object returned from <a
href="TimeSync.html">TimeSync</a></p>
          
          

          
          <div class="method-source-code" id="test_project_users_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1811</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_project_users_valid</span>
    <span class="ruby-identifier">project</span> = <span class="ruby-string">&quot;rime&quot;</span>

    <span class="ruby-identifier">body</span> = <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-constant">Hash</span>[
        <span class="ruby-string">&quot;uri&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;https://github.com/osuosl/pymesync&quot;</span>,
        <span class="ruby-string">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;pymesync&quot;</span>,
        <span class="ruby-string">&quot;slugs&quot;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;pyme&quot;</span>, <span class="ruby-string">&quot;ps&quot;</span>, <span class="ruby-string">&quot;pymesync&quot;</span>],
        <span class="ruby-string">&quot;uuid&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a034806c-00db-4fe1-8de8-514575f31bfb&quot;</span>,
        <span class="ruby-string">&quot;revision&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>,
        <span class="ruby-string">&quot;created_at&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;2014-07-17&quot;</span>,
        <span class="ruby-string">&quot;deleted_at&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
        <span class="ruby-string">&quot;updated_at&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;2014-07-20&quot;</span>,
        <span class="ruby-string">&quot;users&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[
            <span class="ruby-string">&quot;malcolm&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[<span class="ruby-string">&quot;member&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                        <span class="ruby-string">&quot;manager&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                        <span class="ruby-string">&quot;spectator&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>],
            <span class="ruby-string">&quot;jayne&quot;</span> =<span class="ruby-operator">&gt;</span>   <span class="ruby-constant">Hash</span>[<span class="ruby-string">&quot;member&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                        <span class="ruby-string">&quot;manager&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;spectator&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>],
            <span class="ruby-string">&quot;kaylee&quot;</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-constant">Hash</span>[<span class="ruby-string">&quot;member&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                        <span class="ruby-string">&quot;manager&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;spectator&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>],
            <span class="ruby-string">&quot;zoe&quot;</span> =<span class="ruby-operator">&gt;</span>     <span class="ruby-constant">Hash</span>[<span class="ruby-string">&quot;member&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                        <span class="ruby-string">&quot;manager&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;spectator&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>],
            <span class="ruby-string">&quot;hoban&quot;</span> =<span class="ruby-operator">&gt;</span>   <span class="ruby-constant">Hash</span>[<span class="ruby-string">&quot;member&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
                        <span class="ruby-string">&quot;manager&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;spectator&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>],
            <span class="ruby-string">&quot;simon&quot;</span> =<span class="ruby-operator">&gt;</span>   <span class="ruby-constant">Hash</span>[<span class="ruby-string">&quot;member&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;manager&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;spectator&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>],
            <span class="ruby-string">&quot;river&quot;</span> =<span class="ruby-operator">&gt;</span>   <span class="ruby-constant">Hash</span>[<span class="ruby-string">&quot;member&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;manager&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;spectator&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>],
            <span class="ruby-string">&quot;derrial&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Hash</span>[<span class="ruby-string">&quot;member&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;manager&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;spectator&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>],
            <span class="ruby-string">&quot;inara&quot;</span> =<span class="ruby-operator">&gt;</span>   <span class="ruby-constant">Hash</span>[<span class="ruby-string">&quot;member&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;manager&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
                        <span class="ruby-string">&quot;spectator&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>]
        ]
    ])

    <span class="ruby-identifier">expected_result</span> = <span class="ruby-constant">Hash</span>[
        <span class="ruby-string">&#39;malcolm&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;member&#39;</span>, <span class="ruby-string">&#39;manager&#39;</span>, <span class="ruby-string">&#39;spectator&#39;</span>],
        <span class="ruby-string">&#39;jayne&#39;</span> =<span class="ruby-operator">&gt;</span>   [<span class="ruby-string">&#39;member&#39;</span>],
        <span class="ruby-string">&#39;kaylee&#39;</span> =<span class="ruby-operator">&gt;</span>  [<span class="ruby-string">&#39;member&#39;</span>],
        <span class="ruby-string">&#39;zoe&#39;</span> =<span class="ruby-operator">&gt;</span>     [<span class="ruby-string">&#39;member&#39;</span>],
        <span class="ruby-string">&#39;hoban&#39;</span> =<span class="ruby-operator">&gt;</span>   [<span class="ruby-string">&#39;member&#39;</span>],
        <span class="ruby-string">&#39;simon&#39;</span> =<span class="ruby-operator">&gt;</span>   [<span class="ruby-string">&#39;spectator&#39;</span>],
        <span class="ruby-string">&#39;river&#39;</span> =<span class="ruby-operator">&gt;</span>   [<span class="ruby-string">&#39;spectator&#39;</span>],
        <span class="ruby-string">&#39;derrial&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;spectator&#39;</span>],
        <span class="ruby-string">&#39;inara&#39;</span> =<span class="ruby-operator">&gt;</span>   [<span class="ruby-string">&#39;spectator&#39;</span>]
    ]

    <span class="ruby-identifier">stub_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-regexp">/.*/</span>).<span class="ruby-identifier">to_return</span>(<span class="ruby-identifier">body</span><span class="ruby-operator">:</span> <span class="ruby-identifier">body</span>)

    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">project_users</span>(<span class="ruby-identifier">project</span>=<span class="ruby-identifier">project</span>), <span class="ruby-identifier">expected_result</span>)
  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_response_to_ruby_empty_response" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_response_to_ruby_empty_response</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Check that response_to_ruby returns correctly for delete_*G methods</p>
          
          

          
          <div class="method-source-code" id="test_response_to_ruby_empty_response-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1317</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_response_to_ruby_empty_response</span>
  <span class="ruby-identifier">body</span> = <span class="ruby-string">&#39;&#39;</span>
  <span class="ruby-identifier">code</span> = <span class="ruby-value">200</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">response_to_ruby</span>(<span class="ruby-string">&#39;&#39;</span>, <span class="ruby-value">200</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-string">&#39;status&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">200</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_response_to_ruby_list_of_object" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_response_to_ruby_list_of_object</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that <a
href="TimeSync.html#method-i-response_to_ruby">TimeSync#response_to_ruby</a>
converts a json list of objects to a ruby list of objects</p>
          
          

          
          <div class="method-source-code" id="test_response_to_ruby_list_of_object-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_response_to_ruby_list_of_object</span>
  <span class="ruby-identifier">json_object</span> = <span class="ruby-constant">Array</span>[
      <span class="ruby-constant">Hash</span>[
        <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Documentation&#39;</span>,
        <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(docs doc)</span>,
        <span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;adf036f5-3d49-4a84-bef9-0sdb46380bbf&#39;</span>,
        <span class="ruby-string">&#39;revision&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
        <span class="ruby-string">&#39;created_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
        <span class="ruby-string">&#39;deleted_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
        <span class="ruby-string">&#39;updated_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>
      ],
      <span class="ruby-constant">Hash</span>[
        <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Coding&#39;</span>,
        <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(coding code prog)</span>,
        <span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;adf036f5-3d79-4a84-bef9-062b46320bbf&#39;</span>,
        <span class="ruby-string">&#39;revision&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
        <span class="ruby-string">&#39;created_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
        <span class="ruby-string">&#39;deleted_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
        <span class="ruby-string">&#39;updated_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>
      ],
      <span class="ruby-constant">Hash</span>[
        <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Research&#39;</span>,
        <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(research res)</span>,
        <span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;adf036s5-3d49-4a84-bef9-062b46380bbf&#39;</span>,
        <span class="ruby-string">&#39;revision&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
        <span class="ruby-string">&#39;created_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
        <span class="ruby-string">&#39;deleted_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
        <span class="ruby-string">&#39;updated_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>
      ]
  ]

  <span class="ruby-identifier">ruby_object</span> = <span class="ruby-constant">Array</span>[
      <span class="ruby-constant">Hash</span>[
          <span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;adf036f5-3d49-4a84-bef9-0sdb46380bbf&#39;</span>,
          <span class="ruby-string">&#39;created_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
          <span class="ruby-string">&#39;updated_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
          <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Documentation&#39;</span>,
          <span class="ruby-string">&#39;deleted_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
          <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(docs doc)</span>,
          <span class="ruby-string">&#39;revision&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
      ],
      <span class="ruby-constant">Hash</span>[
          <span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;adf036f5-3d79-4a84-bef9-062b46320bbf&#39;</span>,
          <span class="ruby-string">&#39;created_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
          <span class="ruby-string">&#39;updated_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
          <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Coding&#39;</span>,
          <span class="ruby-string">&#39;deleted_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
          <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(coding code prog)</span>,
          <span class="ruby-string">&#39;revision&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
      ],
      <span class="ruby-constant">Hash</span>[
          <span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;adf036s5-3d49-4a84-bef9-062b46380bbf&#39;</span>,
          <span class="ruby-string">&#39;created_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
          <span class="ruby-string">&#39;updated_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
          <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Research&#39;</span>,
          <span class="ruby-string">&#39;deleted_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
          <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(research res)</span>,
          <span class="ruby-string">&#39;revision&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
      ]
  ]

  <span class="ruby-identifier">body</span> = <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">json_object</span>)
  <span class="ruby-identifier">code</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">response_to_ruby</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">code</span>), <span class="ruby-identifier">ruby_object</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_response_to_ruby_single_object" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_response_to_ruby_single_object</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that <a
href="TimeSync.html#method-i-response_to_ruby">TimeSync#response_to_ruby</a>
converts a json object to a  list of object</p>
          
          

          
          <div class="method-source-code" id="test_response_to_ruby_single_object-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1216</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_response_to_ruby_single_object</span>
  <span class="ruby-identifier">json_object</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://code.osuosl.org/projects/ganeti-webmgr&#39;</span>,
    <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Ganeti Web Manager&#39;</span>,
    <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(ganeti gwm)</span>,
    <span class="ruby-string">&#39;owner&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
    <span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;a034806c-00db-4fe1-8de8-514575f31bfb&#39;</span>,
    <span class="ruby-string">&#39;revision&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>,
    <span class="ruby-string">&#39;created_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-07-17&#39;</span>,
    <span class="ruby-string">&#39;deleted_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
    <span class="ruby-string">&#39;updated_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-07-20&#39;</span>
  ]

  <span class="ruby-identifier">ruby_object</span> = <span class="ruby-constant">Hash</span>[
    <span class="ruby-string">&#39;uuid&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;a034806c-00db-4fe1-8de8-514575f31bfb&#39;</span>,
    <span class="ruby-string">&#39;updated_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-07-20&#39;</span>,
    <span class="ruby-string">&#39;created_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-07-17&#39;</span>,
    <span class="ruby-string">&#39;uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://code.osuosl.org/projects/ganeti-webmgr&#39;</span>,
    <span class="ruby-string">&#39;name&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Ganeti Web Manager&#39;</span>,
    <span class="ruby-string">&#39;owner&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
    <span class="ruby-string">&#39;deleted_at&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>,
    <span class="ruby-string">&#39;slugs&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w(ganeti gwm)</span>,
    <span class="ruby-string">&#39;revision&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>
  ]

  <span class="ruby-identifier">body</span> = <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">json_object</span>)
  <span class="ruby-identifier">code</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">response_to_ruby</span>(<span class="ruby-identifier">body</span>, <span class="ruby-identifier">code</span>), <span class="ruby-identifier">ruby_object</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_token_expiration_invalid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_token_expiration_invalid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that token_expiration_time returns correct from an invalid token</p>
          
          

          
          <div class="method-source-code" id="test_token_expiration_invalid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1747</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_token_expiration_invalid</span>
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_expiration_time</span>,
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;improperly encoded token&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_token_expiration_no_auth" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_token_expiration_no_auth</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that token_expiration_time returns correct error when user is not
authenticated</p>
          
          

          
          <div class="method-source-code" id="test_token_expiration_no_auth-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1754</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_token_expiration_no_auth</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_expiration_time</span>,
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Not authenticated with TimeSync, call authenticate first&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_token_expiration_valid" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_token_expiration_valid</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test that token_expiration_time returns valid date from a valid token</p>
          
          

          
          <div class="method-source-code" id="test_token_expiration_valid-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1729</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_token_expiration_valid</span>
  <span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@token</span>, <span class="ruby-string">&#39;eyJ0eXAiOiJKV1QiLCJhbGciO\                              iJITUFDLVNIQTUxMiJ9.eyJpc3MiOiJvc3Vv\                              c2wtdGltZXN5bmMtc3RhZ2luZyIsInN1YiI6\                              InRlc3QiLCJleHAiOjE0NTI3MTQzMzQwODcsI\                              mlhdCI6MTQ1MjcxMjUzNDA4N30=.QP2FbiY3I6\                              e2eN436hpdjoBFbW9NdrRUHbkJ+wr9GK9mMW7/oC/oK\                              nutCwwzMCwjzEx6hlxnGo6/LiGyPBcm3w==&#39;</span>)

  <span class="ruby-identifier">decoded_payload</span> = <span class="ruby-constant">Base64</span>.<span class="ruby-identifier">decode64</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@token</span>)
                                    .<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;.&#39;</span>)[<span class="ruby-value">1</span>])
  <span class="ruby-identifier">exp_int</span> = <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">decoded_payload</span>)[<span class="ruby-string">&#39;exp&#39;</span>] <span class="ruby-operator">/</span> <span class="ruby-value">1000</span>
  <span class="ruby-identifier">exp_datetime</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">exp_int</span>)

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">token_expiration_time</span>, <span class="ruby-identifier">exp_datetime</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_update_time_with_invalid_string_duration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_update_time_with_invalid_string_duration</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests that <a
href="TimeSync.html#method-i-update_time">TimeSync#update_time</a> will
fail if a string containing multiple hours/minutes is entered</p>
          
          

          
          <div class="method-source-code" id="test_update_time_with_invalid_string_duration-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1422</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_update_time_with_invalid_string_duration</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;3h30m15h&#39;</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">update_time</span>(<span class="ruby-identifier">time</span>, <span class="ruby-string">&#39;uuid&#39;</span>),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;time object: invalid duration string&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_update_time_with_junk_string_duration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_update_time_with_junk_string_duration</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests that <a
href="TimeSync.html#method-i-update_time">TimeSync#update_time</a> will
fail if a string containing no hours/minutes is entered</p>
          
          

          
          <div class="method-source-code" id="test_update_time_with_junk_string_duration-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1388</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_update_time_with_junk_string_duration</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;junktime&#39;</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>,
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">update_time</span>(<span class="ruby-identifier">time</span>, <span class="ruby-string">&#39;uuid&#39;</span>),
               [<span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;time object: invalid duration string&#39;</span>]])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_update_time_with_negative_duration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_update_time_with_negative_duration</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tests that <a
href="TimeSync.html#method-i-update_time">TimeSync#update_time</a> will
return an error if a negative duration is passed</p>
          
          

          
          <div class="method-source-code" id="test_update_time_with_negative_duration-source">
            <pre><span class="ruby-comment"># File test/tests.rb, line 1344</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_update_time_with_negative_duration</span>
  <span class="ruby-identifier">time</span> = <span class="ruby-constant">Hash</span>[
      <span class="ruby-string">&#39;duration&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12_600</span>,
      <span class="ruby-string">&#39;project&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;ganeti-web-manager&#39;</span>,
      <span class="ruby-string">&#39;user&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example-user&#39;</span>,
      <span class="ruby-string">&#39;activities&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;documenting&#39;</span>],
      <span class="ruby-string">&#39;notes&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Worked on docs&#39;</span>,
      <span class="ruby-string">&#39;issue_uri&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://github.com/&#39;</span>,
      <span class="ruby-string">&#39;date_worked&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2014-04-17&#39;</span>
  ]

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">update_time</span>(<span class="ruby-identifier">time</span>, <span class="ruby-string">&#39;uuid&#39;</span>),
               <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@ts</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-value">:@error</span>) =<span class="ruby-operator">&gt;</span>
                     <span class="ruby-string">&#39;time object: duration cannot be negative&#39;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

